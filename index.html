<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SphinxJS | Encrypt / decrypt the information to / from the image.</title>
  <link rel="stylesheet" href="./css/style.css">
</head>
<body>
  <div class="title">
    <img src="./img/sphinx.png" alt="" class="title__logo">
    <h1 class="title__item--h1">SphinxJS</h1>
    <h3 class="title__item--h2">Encrypt / decrypt the information to / from the image.</h3>
  </div>
  <div class="playground playground--encrypt">
    <textarea name="" class="playground__input" cols="30" rows="10"></textarea>
    <img class="playground__img" src="" alt="Encrypt Picture">
  </div>
  <div class="ops">
    <span class="ops__des">base64: </span><input type="text" class="ops__input">
    <button class="ops__btn ops__btn--encrypt">Encrypt</button>
    <button class="ops__btn ops__btn--decrypt">Decrypt</button>
  </div>

  <script src="./js/sphinx_es5.js"></script>
  <script src="./js/sphinx_es6.js"></script>
  <script>
    document.querySelector('.ops__btn--encrypt').onclick = function () {
      if (document.querySelector('.playground__input').value) {
        var info = document.querySelector('.playground__input').value
        var base64Code = new Sphinx().encrypt(info)
        document.querySelector('.playground__img').src = base64Code
        document.querySelector('.ops__input').value = base64Code
      }
    }

    document.querySelector('.ops__btn--decrypt').onclick = function () {
      if (document.querySelector('.ops__input').value) {
        var url = document.querySelector('.ops__input').value
        new Sphinx().decrypt(url).then(function (data) {
          document.querySelector('.playground__input').value = data
        })
      }
    }
  </script>
</body>
</html>